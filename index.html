<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>M3U Player</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

<header class="appbar">
  <div class="brand">
    <div class="logo">â–¶</div>
    <div class="brandText">M3U Player</div>
  </div>
  <div class="appbarRight">
    <div id="topDate" class="topDate"></div>
  </div>
</header>

<main class="containerFluid">

<!-- VIEW: LOGIN -->
<section id="viewLogin">
  <div class="heroWrap">
    <h1 class="heroTitle">M3U Player</h1>
    <p class="heroSubtitle">Connexion via identifiants</p>

    <!-- zone style dropzoneLarge rÃ©utilisÃ©e comme "login card" -->
    <div class="dropzoneLarge loginBox">
      <div class="uploadIcon">ğŸ”</div>
      <div class="dzTitle">Se connecter Ã  une playlist</div>
      <div class="dzHint">Saisissez vos informations pour tÃ©lÃ©charger la playlist</div>

      <div class="loginForm">
        <label class="loginField">
          <span class="loginLabel">Nom de playlist</span>
          <input id="loginPlaylistName" class="loginInput" type="text" placeholder="Ex: Maison" autocomplete="off" />
        </label>

        <label class="loginField">
          <span class="loginLabel">User</span>
          <input id="loginUser" class="loginInput" type="text" placeholder="user" autocomplete="username" />
        </label>

        <label class="loginField">
          <span class="loginLabel">Password</span>
          <input id="loginPass" class="loginInput" type="password" placeholder="password" autocomplete="current-password" />
        </label>

        <button id="loginBtn" class="btnPrimary wideBtn" type="button">Charger la playlist</button>
      </div>
    </div>

    <div id="statusLine" class="statusLine"></div>
  </div>
</section>

  <!-- VIEW: DASH -->
  <section id="viewDash" class="hidden">
    <div class="dashMain">
      <div class="dashCenter">
        <div class="cards">
          <button id="tvCard" class="catCard" type="button">
            <div class="catName">TV</div>
            <div id="tvCount" class="catCount">0</div>
            <div class="catHint">ChaÃ®nes & live</div>
          </button>

          <button id="filmsCard" class="catCard" type="button">
            <div class="catName">FILMS</div>
            <div id="filmsCount" class="catCount">0</div>
            <div class="catHint">Films</div>
          </button>

          <button id="seriesCard" class="catCard" type="button">
            <div class="catName">SÃ‰RIES</div>
            <div id="seriesCount" class="catCount">0</div>
            <div class="catHint">SÃ©ries (regroupÃ©es)</div>
          </button>
        </div>

        <div class="dashFooterRow">
          <div id="dashInfo" class="muted small"></div>
          <button id="changePlaylistBtn" class="btnGhost" type="button">Changer de playlist</button>
        </div>
      </div>
    </div>
  </section>

  <!-- VIEW: CATEGORY -->
  <section id="viewCategory" class="hidden">
    <header class="catHeader">
      <div class="catHeaderLeft">
        <button id="catBackBtn" class="btnGhost" type="button">â† Retour</button>
        <div class="catHeaderTitle">
          <div id="catTitle" class="catTitle">CatÃ©gorie</div>
          <div id="catSubtitle" class="muted small"></div>
        </div>
      </div>

      <div class="catHeaderRight">
        <input id="catSearch" class="catSearch" placeholder="Rechercherâ€¦" />
      </div>
    </header>

    <div class="catLayout">
      <aside class="catSidebar">
        <div class="catSidebarTitle">Sous-catÃ©gories</div>
        <div id="subcatList" class="subcatList"></div>
      </aside>

      <section class="catGridWrap">
        <div id="grid" class="catGrid"></div>
        <div id="emptyState" class="emptyState hidden">Aucun rÃ©sultat.</div>
      </section>
    </div>
  </section>

  <!-- VIEW: SERIES DETAIL -->
  <section id="viewSeriesDetail" class="hidden seriesDetail">
    <div class="seriesTopbar">
      <button id="seriesBackBtn" class="btnGhost" type="button">â† Retour</button>
    </div>

    <div class="detailHero">
      <div class="detailPoster">
        <img id="seriesPoster" alt="" loading="lazy">
        <div class="posterFallback">ğŸ¬</div>
      </div>

      <div class="detailInfo">
        <div id="seriesTitle" class="detailTitle">â€”</div>

        <div class="detailMetaRow">
          <div id="seriesMeta" class="muted small">â€”</div>
        </div>

        <div class="detailFacts">
          <div class="fact"><span>CrÃ©Ã© par :</span> <b id="seriesCreator">â€”</b></div>
          <div class="fact"><span>Date :</span> <b id="seriesDate">â€”</b></div>
          <div class="fact"><span>Genres :</span> <b id="seriesGenres">â€”</b></div>
          <div class="fact"><span>Acteurs :</span> <b id="seriesCast">â€”</b></div>
        </div>

        <div class="detailPlot">
          <div class="fact"><span>RÃ©sumÃ© :</span></div>
          <div id="seriesPlot" class="plotText">â€”</div>
          <button id="seriesPlotToggleBtn" class="linkBtn" type="button">Lire plus</button>
        </div>
      </div>
    </div>

    <h3 class="sectionTitle">Saisons</h3>
    <div id="seasonTabs" class="seasonTabs"></div>

    <h3 id="episodesTitle" class="sectionTitle">Ã‰pisodes</h3>
    <div id="episodesList" class="episodesList"></div>
  </section>

  <!-- VIEW: FILM DETAIL -->
<section id="viewFilmDetail" class="hidden filmDetail filmDetailFull">
  <div class="filmBackdrop" id="filmBackdrop"></div>
  <div class="filmBackdropShade"></div>

  <div class="filmTopbar">
    <button id="filmBackBtn" class="btnGhost" type="button">â† Retour</button>
    <div class="filmTopRight">
      <button id="filmFavBtn" class="iconBtn" type="button" title="Favori">â™¡</button>
    </div>
  </div>

  <div class="filmHero">
    <div class="filmLeft">
      <div class="detailPoster filmPosterBig">
        <img id="filmPoster" alt="" loading="lazy">
        <div class="posterFallback">ğŸ¬</div>
      </div>

      <div class="filmStars" id="filmStars" aria-label="Note"></div>
    </div>

    <div class="filmRight">
      <div id="filmTitle" class="filmTitleBig">â€”</div>

      <div class="filmFactsGrid">
        <div class="factRow"><span>Directed by:</span> <b id="filmDirector">â€”</b></div>
        <div class="factRow"><span>Release date:</span> <b id="filmDate">â€”</b></div>
        <div class="factRow"><span>Duration:</span> <b id="filmDuration">â€”</b></div>
        <div class="factRow"><span>Genre:</span> <b id="filmGenres">â€”</b></div>
        <div class="factRow"><span>Cast:</span> <b id="filmCast">â€”</b> <button id="filmCastToggleBtn" class="linkBtnInline" type="button">Read more</button></div>
      </div>

      <div class="filmActionsRow">
        <button id="filmDownloadBtn" class="btnPrimary" type="button">Ouvrir le lien (download)</button>
        <button id="filmVlcBtn" class="btnGhost" type="button">Ouvrir avec VLC</button>
      </div>

      <div class="filmPlotBlock">
        <div id="filmPlot" class="filmPlotText">â€”</div>
        <button id="filmPlotToggleBtn" class="linkBtnInline" type="button">Read more</button>
      </div>
    </div>
  </div>

  <div class="castStrip" id="filmCastStrip"></div>
</section>


</main>

<!-- MODAL actions (TV / Ã©pisodes) -->
<div id="actionModal" class="modalOverlay hidden">
  <div class="modalCard" role="dialog" aria-modal="true">
    <div class="modalHeader">
      <div class="modalTitle">Action</div>
      <button id="modalCloseBtn" class="modalClose" type="button">âœ•</button>
    </div>

    <div class="modalBody">
      <div id="modalItemName" class="modalItemName">â€”</div>
      <div id="modalItemMeta" class="modalItemMeta muted small">â€”</div>
    </div>

    <div class="modalActions">
      <button id="modalDownloadBtn" class="btnPrimary" type="button">Ouvrir le lien (download)</button>
      <button id="modalVlcBtn" class="btnGhost" type="button">Ouvrir avec VLC</button>
      <button id="modalCancelBtn" class="btnDanger" type="button">Fermer</button>
    </div>
  </div>
</div>

<!-- metadata provider (TMDB optionnel) -->
 <script src="fetchApi"></script>
<script src="metadata.js"></script>
<script src="app.js"></script>

</body>
</html>
