<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>M3U Player</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

<header class="appbar">
  <div class="brand">
    <div class="logo">‚ñ∂</div>
    <div class="brandText">M3U Player</div>
  </div>
  <div class="appbarRight">
    <div id="topDate" class="topDate"></div>
  </div>
</header>

<main class="containerFluid">

  <!-- VIEW: IMPORT -->
  <section id="viewImport">
    <div class="heroWrap">
      <h1 class="heroTitle">M3U Player</h1>
      <p class="heroSubtitle">Chargez une playlist .m3u / .m3u8</p>

      <div id="dropzone" class="dropzoneLarge" role="button" tabindex="0">
        <div class="uploadIcon">‚¨Ü</div>
        <div class="dzTitle">Glisser-d√©poser votre fichier</div>
        <div class="dzHint">ou cliquez pour le s√©lectionner</div>
        <div class="dzMeta">Aucun identifiant requis</div>
      </div>

      <input id="fileInput" type="file" accept=".m3u,.m3u8" hidden />
      <div id="statusLine" class="statusLine"></div>

      <div class="rowCenter">
        <button id="resetBtn" class="btnGhost" type="button">R√©initialiser</button>
      </div>
    </div>
  </section>

  <!-- VIEW: DASH -->
  <section id="viewDash" class="hidden">
    <div class="dashMain">
      <div class="dashCenter">
        <div class="cards">
          <button id="tvCard" class="catCard" type="button">
            <div class="catName">TV</div>
            <div id="tvCount" class="catCount">0</div>
            <div class="catHint">Cha√Ænes & live</div>
          </button>

          <button id="filmsCard" class="catCard" type="button">
            <div class="catName">FILMS</div>
            <div id="filmsCount" class="catCount">0</div>
            <div class="catHint">Films</div>
          </button>

          <button id="seriesCard" class="catCard" type="button">
            <div class="catName">S√âRIES</div>
            <div id="seriesCount" class="catCount">0</div>
            <div class="catHint">S√©ries (regroup√©es)</div>
          </button>
        </div>

        <div class="dashFooterRow">
          <div id="dashInfo" class="muted small"></div>
          <button id="changePlaylistBtn" class="btnGhost" type="button">Changer de playlist</button>
        </div>
      </div>
    </div>
  </section>

  <!-- VIEW: CATEGORY -->
  <section id="viewCategory" class="hidden">
    <header class="catHeader">
      <div class="catHeaderLeft">
        <button id="catBackBtn" class="btnGhost" type="button">‚Üê Retour</button>
        <div class="catHeaderTitle">
          <div id="catTitle" class="catTitle">Cat√©gorie</div>
          <div id="catSubtitle" class="muted small"></div>
        </div>
      </div>

      <div class="catHeaderRight">
        <input id="catSearch" class="catSearch" placeholder="Rechercher‚Ä¶" />
      </div>
    </header>

    <div class="catLayout">
      <aside class="catSidebar">
        <div class="catSidebarTitle">Sous-cat√©gories</div>
        <div id="subcatList" class="subcatList"></div>
      </aside>

      <section class="catGridWrap">
        <div id="grid" class="catGrid"></div>
        <div id="emptyState" class="emptyState hidden">Aucun r√©sultat.</div>
      </section>
    </div>
  </section>

  <!-- VIEW: SERIES DETAIL -->
  <section id="viewSeriesDetail" class="hidden seriesDetail">
    <div class="seriesTopbar">
      <button id="seriesBackBtn" class="btnGhost" type="button">‚Üê Retour</button>
    </div>

    <div class="detailHero">
      <div class="detailPoster">
        <img id="seriesPoster" alt="" loading="lazy">
        <div class="posterFallback">üé¨</div>
      </div>

      <div class="detailInfo">
        <div id="seriesTitle" class="detailTitle">‚Äî</div>

        <div class="detailMetaRow">
          <div id="seriesMeta" class="muted small">‚Äî</div>
        </div>

        <div class="detailFacts">
          <div class="fact"><span>Cr√©√© par :</span> <b id="seriesCreator">‚Äî</b></div>
          <div class="fact"><span>Date :</span> <b id="seriesDate">‚Äî</b></div>
          <div class="fact"><span>Genres :</span> <b id="seriesGenres">‚Äî</b></div>
          <div class="fact"><span>Acteurs :</span> <b id="seriesCast">‚Äî</b></div>
        </div>

        <div class="detailPlot">
          <div class="fact"><span>R√©sum√© :</span></div>
          <div id="seriesPlot" class="plotText">‚Äî</div>
          <button id="seriesPlotToggleBtn" class="linkBtn" type="button">Lire plus</button>
        </div>
      </div>
    </div>

    <h3 class="sectionTitle">Saisons</h3>
    <div id="seasonTabs" class="seasonTabs"></div>

    <h3 id="episodesTitle" class="sectionTitle">√âpisodes</h3>
    <div id="episodesList" class="episodesList"></div>
  </section>

  <!-- VIEW: FILM DETAIL -->
<section id="viewFilmDetail" class="hidden filmDetail filmDetailFull">
  <div class="filmBackdrop" id="filmBackdrop"></div>
  <div class="filmBackdropShade"></div>

  <div class="filmTopbar">
    <button id="filmBackBtn" class="btnGhost" type="button">‚Üê Retour</button>
    <div class="filmTopRight">
      <button id="filmFavBtn" class="iconBtn" type="button" title="Favori">‚ô°</button>
    </div>
  </div>

  <div class="filmHero">
    <div class="filmLeft">
      <div class="detailPoster filmPosterBig">
        <img id="filmPoster" alt="" loading="lazy">
        <div class="posterFallback">üé¨</div>
      </div>

      <div class="filmStars" id="filmStars" aria-label="Note"></div>
    </div>

    <div class="filmRight">
      <div id="filmTitle" class="filmTitleBig">‚Äî</div>

      <div class="filmFactsGrid">
        <div class="factRow"><span>Directed by:</span> <b id="filmDirector">‚Äî</b></div>
        <div class="factRow"><span>Release date:</span> <b id="filmDate">‚Äî</b></div>
        <div class="factRow"><span>Duration:</span> <b id="filmDuration">‚Äî</b></div>
        <div class="factRow"><span>Genre:</span> <b id="filmGenres">‚Äî</b></div>
        <div class="factRow"><span>Cast:</span> <b id="filmCast">‚Äî</b> <button id="filmCastToggleBtn" class="linkBtnInline" type="button">Read more</button></div>
      </div>

      <div class="filmActionsRow">
        <button id="filmDownloadBtn" class="btnPrimary" type="button">Ouvrir le lien (download)</button>
        <button id="filmVlcBtn" class="btnGhost" type="button">Ouvrir avec VLC</button>
      </div>

      <div class="filmPlotBlock">
        <div id="filmPlot" class="filmPlotText">‚Äî</div>
        <button id="filmPlotToggleBtn" class="linkBtnInline" type="button">Read more</button>
      </div>
    </div>
  </div>

  <div class="castStrip" id="filmCastStrip"></div>
</section>


</main>

<!-- MODAL actions (TV / √©pisodes) -->
<div id="actionModal" class="modalOverlay hidden">
  <div class="modalCard" role="dialog" aria-modal="true">
    <div class="modalHeader">
      <div class="modalTitle">Action</div>
      <button id="modalCloseBtn" class="modalClose" type="button">‚úï</button>
    </div>

    <div class="modalBody">
      <div id="modalItemName" class="modalItemName">‚Äî</div>
      <div id="modalItemMeta" class="modalItemMeta muted small">‚Äî</div>
    </div>

    <div class="modalActions">
      <button id="modalDownloadBtn" class="btnPrimary" type="button">Ouvrir le lien (download)</button>
      <button id="modalVlcBtn" class="btnGhost" type="button">Ouvrir avec VLC</button>
      <button id="modalCancelBtn" class="btnDanger" type="button">Fermer</button>
    </div>
  </div>
</div>

<!-- metadata provider (TMDB optionnel) -->
<script src="metadata.js"></script>
<script src="app.js"></script>

</body>
</html>
