<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>M3U Player</title>
  <link rel="stylesheet" href="./styles.css" />
  <script defer src="./app.js"></script>
</head>

<body>
  <header class="appbar">
    <div class="brand">
      <div class="logo">‚ñ∂</div>
      <div class="brandText">M3U Player</div>
    </div>
    <div class="appbarRight">
      <span id="topDate" class="topDate"></span>
    </div>
  </header>

<main class="container containerFluid">

    <!-- VIEW: IMPORT -->
    <section id="viewImport" class="heroWrap">
      <h1 class="heroTitle">M3U Player</h1>
      <p class="heroSubtitle">
        Importez votre playlist M3U pour acc√©der √† vos films,<br />
        s√©ries et cha√Ænes TV
      </p>

      <div id="dropZone" class="dropzoneLarge" role="button" tabindex="0" aria-label="Zone import M3U">
        <div class="uploadIcon" aria-hidden="true">‚§¥</div>
        <div class="dzTitle">Glissez votre fichier M3U ici</div>
        <div class="dzHint">ou cliquez pour s√©lectionner un fichier</div>
        <div class="dzMeta" id="dzMeta"></div>

        <input
          id="m3uFileInput"
          type="file"
          accept=".m3u,.m3u8,text/plain,audio/x-mpegurl,application/vnd.apple.mpegurl"
          hidden
        />
      </div>

      <div id="importStatus" class="statusLine" aria-live="polite"></div>

      <div class="rowCenter">
        <button id="clearBtn" class="btnDanger">R√©initialiser</button>
      </div>
    </section>

    <!-- VIEW: DASHBOARD -->
    <section id="viewDashboard" class="dashMain hidden">
      <div class="dashCenter">
        <div class="cards">
          <button class="catCard" data-cat="TV" type="button">
            <div class="catName">TV</div>
            <div class="catCount" id="countTV">0</div>
            <div class="catHint">Cha√Ænes & Live</div>
          </button>

          <button class="catCard" data-cat="FILMS" type="button">
            <div class="catName">FILMS</div>
            <div class="catCount" id="countFILMS">0</div>
            <div class="catHint">VOD / Movies</div>
          </button>

          <button class="catCard" data-cat="SERIES" type="button">
            <div class="catName">SERIES</div>
            <div class="catCount" id="countSERIES">0</div>
            <div class="catHint">√âpisodes</div>
          </button>
        </div>

        <div class="dashFooterRow">
          <div class="muted small" id="playlistInfo"></div>
          <div class="dashActions">
            <button id="backToImportBtn" class="btnGhost" type="button">‚Üê Retour</button>
          </div>
        </div>
      </div>
    </section>

    <!-- VIEW: CATEGORY -->
    <section id="viewCategory" class="hidden">
      <header class="catHeader">
        <div class="catHeaderLeft">
          <button id="backBtn" class="btnGhost" type="button">‚Üê Retour</button>
          <div class="catHeaderTitle">
            <div id="catTitle" class="catTitle">CAT√âGORIE</div>
            <div id="catSubtitle" class="muted small">0 √©l√©ments</div>
          </div>
        </div>

        <div class="catHeaderRight">
          <input id="searchInput" type="search" class="catSearch" placeholder="Rechercher..." />
   <select id="sortSelect" class="catSelect" aria-label="Tri">
  <option value="file" selected>Ordre du fichier</option>
  <option value="last">Derniers ajout√©s</option>
  <option value="az">A ‚Üí Z</option>
  <option value="za">Z ‚Üí A</option>
</select>
        </div>
      </header>

      <div class="catLayout">
        <aside class="catSidebar">
          <div class="catSidebarTop">
            <div class="catSidebarTitle">Sous-cat√©gories</div>
          </div>
          <div id="subcatList" class="subcatList"></div>
        </aside>

        <section class="catGridWrap">
          <div id="grid" class="catGrid"></div>
          <div id="emptyState" class="emptyState hidden">
            Aucun r√©sultat pour cette sous-cat√©gorie / recherche.
          </div>
        </section>
      </div>
    </section>
<!-- VIEW: SERIES DETAIL -->
<section id="viewSeriesDetail" class="hidden seriesDetail">
  <header class="seriesTopbar">
    <button id="seriesBackBtn" class="btnGhost" type="button">‚Üê Retour</button>
  </header>

  <div class="seriesHero">
    <div class="seriesPoster" id="seriesPosterWrap">
      <img id="seriesPoster" alt="" loading="lazy" />
      <div class="posterFallback">üé¨</div>
    </div>

    <div class="seriesInfo">
      <div id="seriesTitle" class="seriesTitle">Titre</div>
      <div id="seriesMeta" class="seriesMeta muted">0 saison ¬∑ 0 √©pisodes</div>
      <div id="seriesGroup" class="seriesGroup muted small">‚Äî</div>
    </div>
  </div>

  <div class="seriesSeasons">
    <div class="sectionTitle">Saisons</div>
    <div id="seasonTabs" class="seasonTabs"></div>
  </div>

  <div class="seriesEpisodes">
    <div id="episodesTitle" class="sectionTitle">Saison ‚Äî</div>
    <div id="episodesList" class="episodesList"></div>
  </div>
</section>

  </main>
  <!-- ACTION MODAL -->
<div id="actionModal" class="modalOverlay hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
  <div class="modalCard">
    <div class="modalHeader">
      <div id="modalTitle" class="modalTitle">Action</div>
      <button id="modalCloseBtn" class="modalClose" type="button" aria-label="Fermer">‚úï</button>
    </div>

    <div class="modalBody">
      <div id="modalItemName" class="modalItemName">‚Äî</div>
      <div id="modalItemMeta" class="modalItemMeta muted small">‚Äî</div>
    </div>
<div id="modalHint" class="modalHint muted small"></div>
    <div class="modalActions">
      <button id="modalDownloadBtn" class="btnPrimary" type="button">
  Ouvrir le lien (download)
</button>

      <button id="modalVlcBtn" class="btnGhost" type="button">Ouvrir avec VLC</button>
      <button id="modalCancelBtn" class="btnDanger" type="button">Annuler</button>
    </div>
  </div>
</div>

</body>
</html>
